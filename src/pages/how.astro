---
/**
 * How arc^ Works - Main Method Page (SIMPLIFIED)
 * File: src/pages/how.astro
 * 
 * Now focuses ONLY on the 7-step method
 * Safety and Licensing moved to sub-pages
 */
import BaseLayout from "../layouts/BaseLayout.astro";
import ArcCanvas from "../components/ArcCanvas.astro";
import SiteHeader from "../components/SiteHeader.astro";
import PageNavigation from "../components/PageNavigation.astro";
import Card from "../components/Card.astro";
import LinkButton from "../components/LinkButton.astro";
import SectionHeader from "../components/SectionHeader.astro";

import '../styles/pages/how.css';

import { withBase } from '../utils/paths';
import { buildSEO } from '../utils/seo';
import { EXTERNAL_LINKS } from '../config/constants';

const seo = buildSEO({
  title: "How arc^ Works",
  description: "arc^ follows a transparent, collaborative research process built on open methods, safety-first practices, and commons-based licensing.",
  path: "/how",
  siteUrl: Astro.site,
});
---

<BaseLayout title={seo.title} description={seo.description} bodyClass="page-how" seo={seo}>
  <ArcCanvas />
  <SiteHeader active="how" />

  <main id="main-content" class="page-shell" aria-labelledby="how-title">
    
    <!-- HERO SECTION -->
    <header class="how-hero" aria-labelledby="how-title">
      <p class="eyebrow">Our Research Framework</p>
      <h1 id="how-title">How arc^ Works</h1>
      <div class="hero-subtitle">
        <p class="lead">arc^ follows a transparent, collaborative research process built on <em>open methods</em>, <em>safety-first practices</em>, and <em>commons-based licensing</em>.</p>
        <p class="lead">Everything is documented from day zero. All outputs stay in the commons.</p>
      </div>
    </header>

    <!-- RE:EARTH LINK SECTION -->
    <Card as="section" class="reearth-callout">
      <div class="callout-content">
        <SectionHeader
          title="Philosophy & Principles"
          align="left"
          headingLevel="h2"
        />
        <p>arc^ is guided by <strong>re:earth</strong> — a regenerative technology framework that asks "what world does this create?" before building anything.</p>
        <p>Re:earth includes the RE:TECH design approach and the ethical commitments that shape how we work. This philosophical foundation will soon live on its own site.</p>
        <p class="callout-note">For now, understand that arc^ research is grounded in: openness, ecological interdependence, future-consciousness, harm prevention, and planetary restoration.</p>
      </div>
    </Card>

    <!-- RESEARCH METHOD SECTION -->
    <section class="method-section">
      <SectionHeader
        title="Our Research Method"
        subtitle="Seven principles guide every arc^ project, ensuring transparency, collaboration, and replicability."
        align="center"
        headingLevel="h2"
      />

      <Card as="article" class="method-example">
        <h3>Example: Community Garden Testing PAW</h3>
        <p class="scenario-text">A community garden wants to test if plasma-activated water improves native plant germination. Here's how the process works:</p>
        
        <div class="method-flow">
          <div class="method-item">
            <span class="method-num">01</span>
            <div class="method-content">
              <h4>Document Early</h4>
              <p>Hypothesis and protocols published before starting. No hidden methods, no proprietary blackboxes.</p>
            </div>
          </div>
          
          <div class="method-item">
            <span class="method-num">02</span>
            <div class="method-content">
              <h4>Show the Work</h4>
              <p>Device specs, parameters, and data logged openly. Anyone can see what was done and how.</p>
            </div>
          </div>
          
          <div class="method-item">
            <span class="method-num">03</span>
            <div class="method-content">
              <h4>Invite Review</h4>
              <p>Local experts review protocol before experiments begin. Safety checks happen collaboratively.</p>
            </div>
          </div>
          
          <div class="method-item">
            <span class="method-num">04</span>
            <div class="method-content">
              <h4>Track Status</h4>
              <p>Live updates with WIP markers and changelogs. Mistakes are documented, not hidden.</p>
            </div>
          </div>
          
          <div class="method-item">
            <span class="method-num">05</span>
            <div class="method-content">
              <h4>Credit Everyone</h4>
              <p>All contributors listed in outputs. Attribution is transparent and complete.</p>
            </div>
          </div>
          
          <div class="method-item">
            <span class="method-num">06</span>
            <div class="method-content">
              <h4>Co-Design</h4>
              <p>Community chooses species based on restoration goals. Research serves local needs.</p>
            </div>
          </div>
          
          <div class="method-item">
            <span class="method-num">07</span>
            <div class="method-content">
              <h4>Replicate</h4>
              <p>Protocol shared for testing elsewhere before broader claims. One study isn't proof.</p>
            </div>
          </div>
        </div>

        <p class="outcome-text"><strong>Outcome:</strong> Data stays open, hardware stays open, garden owns the knowledge.</p>
      </Card>
    </section>

    <!-- RELATED PAGES - Safety & Licensing -->
    <section class="getting-started-section">
      <SectionHeader
        title="How We Ensure Quality & <em>Ethics</em>"
        subtitle="Our method is backed by rigorous safety protocols and open licensing."
        align="center"
        headingLevel="h2"
      />

      <div class="getting-started-cards">
        <Card as="article" class="start-card">
          <h3>Safety Protocols</h3>
          <p>Learn how we ensure safety in plasma research through rigorous protocols and community accountability.</p>
          <LinkButton href={withBase("/how/safety")} variant="outline" icon="arrow-right">
            View Safety
          </LinkButton>
        </Card>

        <Card as="article" class="start-card">
          <h3>Open Licensing</h3>
          <p>All outputs stay in the commons through copyleft licenses. No patents, no paywalls.</p>
          <LinkButton href={withBase("/how/licensing")} variant="outline" icon="arrow-right">
            View Licenses
          </LinkButton>
        </Card>
      </div>
    </section>

    <!-- GETTING STARTED -->
    <section class="getting-started-section">
      <SectionHeader
        title="Ready to Participate?"
        subtitle="Whether you're here to learn, contribute, or collaborate — there's a path forward."
        align="center"
        headingLevel="h2"
      />

      <div class="getting-started-cards">
        <Card as="article" class="start-card">
          <h3>Explore Projects</h3>
          <p>See what research is active, what needs contributions, and where your skills might fit. All projects follow the method outlined above.</p>
          <LinkButton href={withBase("/projects")} variant="outline" icon="arrow-right">
            Browse Projects
          </LinkButton>
        </Card>

        <Card as="article" class="start-card">
          <h3>Learn About Us</h3>
          <p>Read about the people behind arc^ and the vision guiding this work. Understanding the context helps us collaborate effectively.</p>
          <LinkButton href={withBase("/about")} variant="outline" icon="arrow-right">
            About arc^
          </LinkButton>
        </Card>

        <Card as="article" class="start-card">
          <h3>Join the Work</h3>
          <p>Reach out to discuss collaboration, propose a project, or ask questions. No formal applications — just authentic conversation.</p>
          <LinkButton href={withBase("/join")} variant="outline" icon="arrow-right">
            Get in Touch
          </LinkButton>
        </Card>
      </div>
    </section>

  </main>

  <PageNavigation currentPage="how" />
</BaseLayout>